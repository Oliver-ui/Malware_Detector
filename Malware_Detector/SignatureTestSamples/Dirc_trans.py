import shutil
from shutil import copy, copyfile
import os

path = "D:\Microsoft VS Code\Code.exe"

count = 0
path_len = len(path) - 1

while count != 1:
	if path[path_len] == "\\":
		count += 1
	path_len -= 1

# File name to sandbox
exe_file_name = path[path_len+2 : len(path)]

# File path to sandbox
parent_dir_path = path[:path_len+1]

# Save all the files in dir into target dir
save_dir_path = "C:\\Users\\12051\\Desktop\\UncheckedWare"

# Test sample directory
test_sample_dir_path = "C:\\Users\\12051\\Desktop\\BehaviourTestSample"

# # Make target dir if it does not exist
# if(os.path.exists(save_dir_path)):
# 	shutil.rmtree(save_dir_path)
# os.mkdir(save_dir_path)

# # Eterate every file in source dir
# for dirpath, dirnames, filenames in os.walk(parent_dir_path):
# 	for each_file in filenames:
# 		# get relative current file path
# 		path=os.path.join(dirpath,each_file)
# 		print(path)
# 		relative_path=path[path.index(parent_dir_path)+len(parent_dir_path)+1:path.rindex('\\')]
# 		dirs=relative_path.split('\\')

# 		# copy file and dir to target dir
# 		for i in range(0,len(dirs)):
# 			this_dir="/"
# 			for j in range(0,i+1):
# 				this_dir=this_dir+dirs[j]+'/'
# 			if(not os.path.exists(save_dir_path+this_dir)):
# 				os.mkdir(save_dir_path+this_dir)

# 		shutil.copy(path, save_dir_path+'/'+relative_path+'/'+each_file)


# # One file is selected and record unchecked file name
# with open("C:\\Users\\12051\\Desktop\\UncheckedFileName\\File_Name.txt", "w") as f:
# 	f.write(exe_file_name)

# Directory is selected
with open("C:\\Users\\12051\\Desktop\\UncheckedFileName\\File_Name.txt", "w") as f:
	file_list = os.listdir(test_sample_dir_path)
	for file_name in file_list:
		f.write(file_name)
		f.write("\n")